{"version":3,"sources":["webpack:///./src/app/login/login.module.ts","webpack:///./src/app/login/login.page.html","webpack:///./src/app/login/login.page.scss","webpack:///./src/app/login/login.page.ts","webpack:///./src/app/providers/user/user.service.ts"],"names":[],"mappings":"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","file":"login-login-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { LoginPage } from './login.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: LoginPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    ReactiveFormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [LoginPage]\n})\nexport class LoginPageModule {}\n","module.exports = \"\\n<ion-content padding class=\\\"transparent-header\\\">\\n  <img class=\\\"logo\\\" src=\\\"assets/img/logo/logobillcentric.png\\\" />\\n  <form [formGroup]=\\\"loginForm\\\">\\n    <ion-item>\\n      <ion-input formControlName=\\\"email\\\" type=\\\"text\\\" placeholder=\\\"Correo\\\"></ion-input>\\n    </ion-item>\\n    <div class=\\\"error-messages\\\">\\n      <ng-container *ngFor=\\\"let error of error_messages.email\\\">\\n        <div class=\\\"error-messages\\\" *ngIf=\\\"loginForm.get('email').hasError(error.type) && (loginForm.get('email').dirty || loginForm.get('email').touched)\\\">\\n          {{error.message}}\\n        </div>\\n      </ng-container>\\n    </div>\\n    <ion-item>\\n      <ion-input formControlName=\\\"password\\\" type=\\\"password\\\" placeholder=\\\"Contraseña\\\"></ion-input>\\n    </ion-item>\\n    <div class=\\\"error-messages\\\">\\n        <ng-container *ngFor=\\\"let error of error_messages.password\\\">\\n          <div class=\\\"error-messages\\\" *ngIf=\\\"loginForm.get('password').hasError(error.type) && (loginForm.get('password').dirty || loginForm.get('password').touched)\\\">\\n            {{error.message}}\\n          </div>\\n        </ng-container>\\n      </div>\\n    <ion-button (click)=\\\"login()\\\" [disabled]=\\\"!loginForm.valid\\\" shape=\\\"round\\\" size=\\\"default\\\" color=\\\"danger\\\" expand=\\\"block\\\">Iniciar sesion</ion-button>\\n  </form>\\n</ion-content>\"","module.exports = \".error-messages {\\n  font-size: 0.9em;\\n  color: red;\\n  text-align: left; }\\n\\n.logo {\\n  padding-top: 150px;\\n  margin: 0 auto;\\n  padding-bottom: 20px; }\\n\\n/*page-login-one {\\n    // Fullscreen centered image background\\n    ion-content {\\n      background-size: cover;\\n      background-position: center;\\n      background-repeat: no-repeat;\\n      border-color: transparent;\\n    }\\n    .scroll-content {\\n      background-image: radial-gradient(center center, ellipse cover, #ffeda3, #ffc800);\\n      display: flex;\\n      flex-direction: column;\\n      overflow: hidden;\\n    }\\n\\n    .no-border {\\n      border-bottom: 0 !important;\\n      box-shadow: none !important;\\n    }\\n    ion-row {\\n      align-items: center;\\n      text-align: center;\\n    }\\n    @media only screen and (min-width: 768px) {\\n      ion-col.col {\\n        margin: 0 auto;\\n        max-width: 40%;\\n      }\\n    }\\n    span {\\n      color: white;\\n    }\\n    ion-item {\\n      // border-radius: 30px !important;\\n      padding-left: 10px !important;\\n      margin-bottom: 10px;\\n      background-color: #f6f6f6;\\n      opacity: 0.7;\\n      font-size: 0.9em;\\n    }\\n    ion-list {\\n      margin: 0;\\n    }\\n    .login-button {\\n      width: 100%;\\n      // border-radius: 30px;\\n      font-size: 0.9em;\\n      // border: 1px solid #fff;\\n      background-color: #39acdc;\\n    }\\n  }*/\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2JyYXlhbi9CaWxsY2VudHJpYy9zcmMvYXBwL2xvZ2luL2xvZ2luLnBhZ2Uuc2NzcyIsInNyYy9hcHAvbG9naW4vbG9naW4ucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsZ0JBQWdCO0VBQ2hCLFVBQVU7RUFDVixnQkFBZ0IsRUFBQTs7QUFFbEI7RUFJRSxrQkFBa0I7RUFDbEIsY0FBYztFQUNkLG9CQUFvQixFQUFBOztBQUV0Qjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7SUMrQ0kiLCJmaWxlIjoic3JjL2FwcC9sb2dpbi9sb2dpbi5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuZXJyb3ItbWVzc2FnZXMge1xuICBmb250LXNpemU6IDAuOWVtO1xuICBjb2xvcjogcmVkO1xuICB0ZXh0LWFsaWduOiBsZWZ0O1xufVxuLmxvZ28ge1xuICAvL3dpZHRoOiA1MCU7XG4gIC8vaGVpZ2h0OiBhdXRvO1xuICAvL21heC13aWR0aDogMTJlbTtcbiAgcGFkZGluZy10b3A6IDE1MHB4O1xuICBtYXJnaW46IDAgYXV0bztcbiAgcGFkZGluZy1ib3R0b206IDIwcHg7XG59XG4vKnBhZ2UtbG9naW4tb25lIHtcbiAgICAvLyBGdWxsc2NyZWVuIGNlbnRlcmVkIGltYWdlIGJhY2tncm91bmRcbiAgICBpb24tY29udGVudCB7XG4gICAgICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyO1xuICAgICAgYmFja2dyb3VuZC1wb3NpdGlvbjogY2VudGVyO1xuICAgICAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtcbiAgICAgIGJvcmRlci1jb2xvcjogdHJhbnNwYXJlbnQ7XG4gICAgfVxuICAgIC5zY3JvbGwtY29udGVudCB7XG4gICAgICBiYWNrZ3JvdW5kLWltYWdlOiByYWRpYWwtZ3JhZGllbnQoY2VudGVyIGNlbnRlciwgZWxsaXBzZSBjb3ZlciwgI2ZmZWRhMywgI2ZmYzgwMCk7XG4gICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgfVxuXG4gICAgLm5vLWJvcmRlciB7XG4gICAgICBib3JkZXItYm90dG9tOiAwICFpbXBvcnRhbnQ7XG4gICAgICBib3gtc2hhZG93OiBub25lICFpbXBvcnRhbnQ7XG4gICAgfVxuICAgIGlvbi1yb3cge1xuICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICB9XG4gICAgQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWluLXdpZHRoOiA3NjhweCkge1xuICAgICAgaW9uLWNvbC5jb2wge1xuICAgICAgICBtYXJnaW46IDAgYXV0bztcbiAgICAgICAgbWF4LXdpZHRoOiA0MCU7XG4gICAgICB9XG4gICAgfVxuICAgIHNwYW4ge1xuICAgICAgY29sb3I6IHdoaXRlO1xuICAgIH1cbiAgICBpb24taXRlbSB7XG4gICAgICAvLyBib3JkZXItcmFkaXVzOiAzMHB4ICFpbXBvcnRhbnQ7XG4gICAgICBwYWRkaW5nLWxlZnQ6IDEwcHggIWltcG9ydGFudDtcbiAgICAgIG1hcmdpbi1ib3R0b206IDEwcHg7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjZmNmY2O1xuICAgICAgb3BhY2l0eTogMC43O1xuICAgICAgZm9udC1zaXplOiAwLjllbTtcbiAgICB9XG4gICAgaW9uLWxpc3Qge1xuICAgICAgbWFyZ2luOiAwO1xuICAgIH1cbiAgICAubG9naW4tYnV0dG9uIHtcbiAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgLy8gYm9yZGVyLXJhZGl1czogMzBweDtcbiAgICAgIGZvbnQtc2l6ZTogMC45ZW07XG4gICAgICAvLyBib3JkZXI6IDFweCBzb2xpZCAjZmZmO1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzM5YWNkYztcbiAgICB9XG4gIH0qL1xuICAiLCIuZXJyb3ItbWVzc2FnZXMge1xuICBmb250LXNpemU6IDAuOWVtO1xuICBjb2xvcjogcmVkO1xuICB0ZXh0LWFsaWduOiBsZWZ0OyB9XG5cbi5sb2dvIHtcbiAgcGFkZGluZy10b3A6IDE1MHB4O1xuICBtYXJnaW46IDAgYXV0bztcbiAgcGFkZGluZy1ib3R0b206IDIwcHg7IH1cblxuLypwYWdlLWxvZ2luLW9uZSB7XG4gICAgLy8gRnVsbHNjcmVlbiBjZW50ZXJlZCBpbWFnZSBiYWNrZ3JvdW5kXG4gICAgaW9uLWNvbnRlbnQge1xuICAgICAgYmFja2dyb3VuZC1zaXplOiBjb3ZlcjtcbiAgICAgIGJhY2tncm91bmQtcG9zaXRpb246IGNlbnRlcjtcbiAgICAgIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XG4gICAgICBib3JkZXItY29sb3I6IHRyYW5zcGFyZW50O1xuICAgIH1cbiAgICAuc2Nyb2xsLWNvbnRlbnQge1xuICAgICAgYmFja2dyb3VuZC1pbWFnZTogcmFkaWFsLWdyYWRpZW50KGNlbnRlciBjZW50ZXIsIGVsbGlwc2UgY292ZXIsICNmZmVkYTMsICNmZmM4MDApO1xuICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgIH1cblxuICAgIC5uby1ib3JkZXIge1xuICAgICAgYm9yZGVyLWJvdHRvbTogMCAhaW1wb3J0YW50O1xuICAgICAgYm94LXNoYWRvdzogbm9uZSAhaW1wb3J0YW50O1xuICAgIH1cbiAgICBpb24tcm93IHtcbiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgfVxuICAgIEBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1pbi13aWR0aDogNzY4cHgpIHtcbiAgICAgIGlvbi1jb2wuY29sIHtcbiAgICAgICAgbWFyZ2luOiAwIGF1dG87XG4gICAgICAgIG1heC13aWR0aDogNDAlO1xuICAgICAgfVxuICAgIH1cbiAgICBzcGFuIHtcbiAgICAgIGNvbG9yOiB3aGl0ZTtcbiAgICB9XG4gICAgaW9uLWl0ZW0ge1xuICAgICAgLy8gYm9yZGVyLXJhZGl1czogMzBweCAhaW1wb3J0YW50O1xuICAgICAgcGFkZGluZy1sZWZ0OiAxMHB4ICFpbXBvcnRhbnQ7XG4gICAgICBtYXJnaW4tYm90dG9tOiAxMHB4O1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2Y2ZjZmNjtcbiAgICAgIG9wYWNpdHk6IDAuNztcbiAgICAgIGZvbnQtc2l6ZTogMC45ZW07XG4gICAgfVxuICAgIGlvbi1saXN0IHtcbiAgICAgIG1hcmdpbjogMDtcbiAgICB9XG4gICAgLmxvZ2luLWJ1dHRvbiB7XG4gICAgICB3aWR0aDogMTAwJTtcbiAgICAgIC8vIGJvcmRlci1yYWRpdXM6IDMwcHg7XG4gICAgICBmb250LXNpemU6IDAuOWVtO1xuICAgICAgLy8gYm9yZGVyOiAxcHggc29saWQgI2ZmZjtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICMzOWFjZGM7XG4gICAgfVxuICB9Ki9cbiJdfQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { FormGroup, FormBuilder, FormControl, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { AuthorizationRequest } from '../providers/utils/authorizationRequest';\nimport { AuthService } from '../providers/auth-service/auth-service';\nimport { UserService } from '../providers/user/user.service';\nimport { Storage } from '@ionic/storage';\nimport { AlertService } from '../providers/utils/alertas';\nimport { ToastController } from \"@ionic/angular\";\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.page.html',\n  styleUrls: ['./login.page.scss'],\n})\nexport class LoginPage implements OnInit {\n\n  loginForm: FormGroup;\n\n  error_messages = {\n    'email': [\n      { type: 'required', message: 'Correo es requerido.' },\n      { type: 'pattern', message: 'Debe ingresar un correo valido.' }\n    ],\n    'password': [\n      { type: 'required', message: 'Contraseña es requerida.' }\n    ],\n  };\n\n  constructor(public formBuilder: FormBuilder,\n    private router: Router,\n    public authService: AuthService,\n    public userService: UserService,\n    public alertas: AlertService,\n    public storage: Storage,\n    public toastController: ToastController\n  ) {\n    this.loginForm = this.formBuilder.group({\n      password: new FormControl('', Validators.compose([\n        Validators.required // ,\n        // Validators.minLength(1),\n        // Validators.pattern('^(?=.*[a-zA-Z]+$/')\n      ])),\n      email: new FormControl('', Validators.compose([\n        Validators.required,\n        Validators.pattern('^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+.[a-zA-z0-9-.]+$')\n      ]))\n    });\n  }\n\n  isValid(parameter: string) {\n    return !this.loginForm.get(parameter).invalid;\n  }\n\n\n  async presentToast(text: string, color: string = \"primary\") {\n    const toast = await this.toastController.create({\n      message: text,\n      duration: 2000,\n      color: color\n    });\n    toast.present();\n  }\n  ngOnInit() { }\n\n  login(): void {\n\n    this.alertas.showAutoHideLoader(); // presentLoadingDefault(); // this.presentLoadingDefault();\n    console.log('email', this.loginForm.value.email);\n    console.log('password', this.loginForm.value.password);\n\n    if (this.isValid('email') && this.isValid('password')) {\n      const authorizationRequest: AuthorizationRequest = new AuthorizationRequest();\n      authorizationRequest.grant_type = 'password';\n      authorizationRequest.username = this.loginForm.get('email').value;\n      authorizationRequest.password = this.loginForm.get('password').value;\n      authorizationRequest.client_id = '2';\n\n      this.authService.login(authorizationRequest).subscribe(authorizationResponse => {\n        sessionStorage.setItem('token', authorizationResponse.access_token);\n        this.storage.set('token',authorizationResponse.access_token);// asiganamos el token para mantener sesion persistente \n        // sessionStorage.setItem('token', authorizationResponse.access_token);  viejo\n        // console.log(authorizationResponse);\n        this.userService.getById(authorizationResponse.user_id).subscribe(user => {\n          localStorage.setItem('accessToken', JSON.stringify({ user: user, token: authorizationResponse.access_token }));\n          localStorage.setItem('currentData', JSON.stringify({ user: user, token: authorizationResponse.access_token }));\n          this.alertas.dismiss();\n          this.router.navigate(['/menu']);\n          this.storage.set('isLoggedin', 'true');\n          \n        }, error => {\n          this.alertas.dismiss();\n          this.presentToast(\"Error de conexión\",\"danger\");\n         \n        });\n      }, error => {\n        console.log(error);\n        this.alertas.dismiss();\n        this.presentToast(error,\"danger\");\n      });\n    }\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Http } from '@angular/http';\nimport { Observable } from 'rxjs';\nimport { BaseService } from '../../services/base.service';\nimport { UserProvider } from './user';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class UserService {\n  private static readonly BASE_URL: string = BaseService.HOST + '/user';\n    constructor(private http: Http\n    ) { }\n\n    getById(id: number): Observable<UserProvider> {\n        console.log(UserService.BASE_URL + '/' + id);\n        return this.http.get(UserService.BASE_URL + '/' + id, {headers: BaseService.createAuthorizationHeader()})\n            .map(BaseService.extractData)\n            .catch(BaseService.handleError);\n    }\n\n    getByEmail(email: string): Observable<UserProvider> {\n        return this.http.get(UserService.BASE_URL + '/email/' + email, {headers: BaseService.createAuthorizationHeader()})\n            .map(BaseService.extractData)\n            .catch(BaseService.handleError);\n    }\n\n    updatePassword(obj: any): Observable<any> {\n        return this.http.patch(UserService.BASE_URL + '/' + obj.id + '/password', obj, {headers: BaseService.createAuthorizationHeader()})\n            .map(BaseService.extractData)\n            .catch(BaseService.handleErrorUpdate);\n    }\n}\n"],"sourceRoot":""}